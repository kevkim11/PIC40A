

<?xmlversion = "1.0" encoding = "utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
     "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
     
<!-- This is our first XHTML example -->

<!--Insert comment here -->

<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
    <title>HW3</title>
    <script type="text/javascript">

    var num1 = [];
    var num2 = [];
    var num3 = [];
    var operation = null;
    // var container = [];


    /*
      takes in a string value, appends in an array, returns a string
    */
    function append(value) {
      container.push(value);
      return container.join("");
    }

    // function display2(num) {
    //   var node = document.getElementById("display");
    //   node.value=num;
    // }
    //This is the function I am providing for you.  It takes as argument a string or a number and displays it in the box in the window
    function display2(num) {
      var node = document.getElementById("display");
      new_num = append(node); 
      node.value=num;
    }

    function display(num) {
      var node = document.getElementById("display");
      if (num == "+" || num == "-" || num == "*" || num == "/") {
        operation = num;
        console.log("operation: " + operation); //debug
        // node.value=num
      }
      else if (num == "="){
        console.log("num1 = " + num1);
        var number1 = parseInt(num1);
        var number2 = parseInt(num2);
        var answer = calculate(number1, number2, operation);
        node.value = answer;
        //reset num1 to
        num1 = [];
        num2 = [];
        num1.push(answer);

        console.log("number1 = " + number1);
        console.log("num1 = " + num1);
        console.log("the answer = " + answer);
        // var temp = [];
      }
      // if the operation doesn't equal null, than the user is inputting a 2nd number
      else if (operation!=null){
        num2 += num;
        node.value=num2;
        console.log("display num2: " + num2); //debug
      }
      // first input number
      else {
        num1 += num;
        node.value=num1;
        console.log("display num1: " + num1); // debug
      }
    }
    // Calculation functions
    function addition( num1, num2) {
      return num1+num2;
    }

    function multiplication(num1, num2) {
      return num1*num2;
    }
    function subtraction(num1, num2) {
      return num1-num2;
    }
    function division(num1, num2) {
      return num1/num2;
    }

    function calculate(num1, num2, operation) {
      if (operation == "+"){
        return addition(num1,num2);
      }
      else if (operation == "-"){
        return subtraction(num1,num2);
      }
      else if (operation == "*"){
        return multiplication(num1, num2);
      }
      else if (operation == "/"){
        return division(num1, num2);
      }
      else {
        return null;
      }
    }

    </script>
   </head>
   
   <body>

    <h1>Simple calculator</h1>

    <!--This is the text box where numbers will be displayed.  Call the display function to show a number here -->
    <form action="" method="get">
      <p>
        <input type="text" id="display"/>
      </p>
    </form>

    <form action="" method="get">

   	<input type="button" value = "7" onclick="display(value);"></input>
    <input type="button" value = "8" onclick="display(value);"></input>
    <input type="button" value = "9" onclick="display(value);"></input>
    <input type="button" value = "/" onclick="display(value)"></input><br/>

    <input type="button" value = "4" onclick="display(value)"></input>
    <input type="button" value = "5" onclick="display(value)"></input>
    <input type="button" value = "6" onclick="display(value)"></input>
    <input type="button" value = "*" onclick="display(value)"></input><br/>

    <input type="button" value = "1" onclick="display(value)"></input>
    <input type="button" value = "2" onclick="display(value)"></input>
    <input type="button" value = "3" onclick="display(value)"></input>
    <input type="button" value = "-" onclick="display(value)"></input><br/>

    <input type="button" value = "." onclick="display(value)"></input>
    <input type="button" value = "0" onclick="display(value)"></input>
    <input type="button" value = "=" onclick="display(value)"></input>
    <input type="button" value = "+" onclick="display(value)"></input><br/>

    <p>
      <a href="http://validator.w3.org/check?uri=referer"><img 
      src="http://www.w3.org/Icons/valid-xhtml11"
      alt ="Valid XHTML 1.1" height="31" width="88"/></a>
    </p>
   </body>
</html>